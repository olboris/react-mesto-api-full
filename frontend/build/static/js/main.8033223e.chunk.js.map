{"version":3,"sources":["images/header-logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/Login.js","components/Register.js","components/ProtectedRoute.js","images/success.svg","images/fail.svg","components/InfoTooltip.js","utils/api.js","utils/auth.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","props","history","useHistory","className","alt","src","headerLogo","exact","path","to","userEmail","onClick","localStorage","removeItem","push","CurrentUserContext","React","createContext","Card","currentUser","useContext","isOwn","card","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","type","aria-label","onCardDelete","onCardClick","style","backgroundImage","link","name","onCardLike","length","Main","avatar","onEditAvatar","onEditProfile","id","about","onAddPlace","cards","map","item","Footer","PopupWithForm","popupRef","useRef","popupContainerRef","ref","onSubmit","isOpen","event","current","contains","target","onClose","undefined","noValidate","title","children","saveButton","ImagePopup","EditProfilePopup","useState","setName","description","setDescription","useEffect","String","e","preventDefault","onUpdateUser","onChange","value","minLength","maxLength","required","placeholder","EditAvatarPopup","avatarRef","onUpdateAvatar","AddPlacePopup","place","setPlace","setLink","Login","inputEmail","setInputEmail","inputPassword","setInputPassword","handleLogin","Register","handleRegister","ProtectedRoute","Component","component","isLoggedIn","InfoTooltip","isSuccess","success","fail","api","options","this","_baseUrl","baseUrl","_headers","headers","fetch","method","then","res","_getResponseData","data","body","JSON","stringify","ok","json","Promise","reject","Error","status","Authorization","getItem","auth","email","password","getResponseData","console","log","setItem","token","App","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isInfoPopupOpen","setIsInfoPopupOpen","selectedCard","setSelectedCard","isImagePopupOpen","setIsImagePopupOpen","isAuthSuccess","setIsAuthSuccess","setCurrentUser","setCards","loggedIn","setLoggedIn","setUserEmail","tokenCheck","useCallback","getContent","catch","err","infoToolFail","closeAllPopups","Api","getUser","getInitialCards","handleEscClose","keyCode","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","newCard","newCards","c","deleteCard","filter","mail","authorize","register","setAvatar","setUser","addCard","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8033223e.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/header-logo.a307e1c4.svg\";","import React from 'react';\nimport headerLogo from '../images/header-logo.svg';\nimport { Link, Route, Switch, useHistory } from 'react-router-dom';\n\nfunction Header(props) {\n    const history = useHistory();\n    function signOut() {\n        localStorage.removeItem('token');\n        history.push(\"/sign-in\");\n    }\n    return (\n        <header className=\"header\">\n            <img alt=\"Лого\" className=\"header__logo\" src={headerLogo} />\n            <div className=\"header__container\">\n                <Switch>\n                    <Route exact path=\"/sign-up\">\n                        <Link className=\"header__button\" to=\"/sign-in\">Войти</Link>\n                    </Route>\n                    <Route exact path=\"/sign-in\">\n                        <Link className=\"header__button\" to=\"/sign-up\">Регистрация</Link>\n                    </Route>\n                    <Route path=\"/\">\n                        <h2 className=\"header__email\">{props.userEmail}</h2>\n                        <button className=\"header__button header__button_exit\" onClick={signOut}>Выйти</button>\n                    </Route>\n                </Switch>\n            </div>\n        </header>\n    );\n}\n\nexport default Header;","import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n","import React from 'react';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\n\nfunction Card(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = props.card.owner === currentUser._id;\n  const cardDeleteButtonClassName = (\n    `element__delete-button ${isOwn ? \"element__delete-button_active\" : \" \"}`\n  );\n  const isLiked = props.card.likes.some(i => i === currentUser._id);\n  const cardLikeButtonClassName = (`element__like-button ${isLiked && \"element__like-button_active\"}`\n  );\n\n  function handleClick() {\n    props.onCardClick(props.card);\n  }\n\n  function handleLikeClick() {\n    props.onCardLike(props.card);\n  }\n\n  function handleDeleteClick() {\n    if (isOwn) {\n      props.onCardDelete(props.card);\n    }\n  }\n\n  return (\n    <div className=\"element\">\n      <button type=\"button\" aria-label=\"Удалить\" onClick={handleDeleteClick} className={cardDeleteButtonClassName}></button>\n      <div className=\"element__image\" alt=\"Картинка\" onClick={handleClick} style={{ backgroundImage: `url(${props.card.link})` }} ></div>\n      <div className=\"element__description\">\n        <h2 className=\"element__title\">{props.card.name}</h2>\n        <div className=\"element__like-info\">\n          <button type=\"button\" aria-label=\"Нравится\" onClick={handleLikeClick} className={cardLikeButtonClassName}></button>\n          <h3 className=\"element__like-number\">{props.card.likes.length}</h3>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Card;","import React from 'react';\nimport Card from './Card.js';\nimport {CurrentUserContext} from '../contexts/CurrentUserContext.js';\n\nfunction Main(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"content\">\n      <section className=\"profile\">\n        <div className=\"profile-avatar\">\n          <div className=\"profile-avatar__image\" alt=\"Аватар\" style={{ backgroundImage: `url(${currentUser.avatar})` }}></div>\n          <button onClick={props.onEditAvatar} type=\"button\" aria-label=\"Редактировать\" className=\"profile-avatar__button\"></button>\n        </div>\n        <div className=\"profile-info\">\n          <div className=\"profile-info__heading\">\n            <h1 className=\"profile-info__name\">{currentUser.name}</h1>\n            <button onClick={props.onEditProfile} type=\"button\" aria-label=\"Редактировать\" className=\"profile-info__edit-button\" id=\"edit-button\"></button>\n          </div>\n          <p className=\"profile-info__specialty\">{currentUser.about}</p>\n        </div>\n        <button onClick={props.onAddPlace} type=\"button\" aria-label=\"Добавить\" className=\"profile__add-button\"></button>\n      </section>\n      <section className=\"elements\">\n        <div className=\"elements__list\">\n          {props.cards.map((item) => {\n            return (<Card card={item} onCardClick={props.onCardClick} onCardLike={props.onCardLike} onCardDelete={props.onCardDelete} key={item._id} />)\n          })}\n        </div>\n      </section>\n    </main>\n  );\n\n}\n\nexport default Main;","import React from 'react';\n\nfunction Footer() {\n    return (\n        <footer className=\"footer\">\n            <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n        </footer>\n    );\n}\n\nexport default Footer;","import React from 'react';\n\nfunction PopupWithForm(props) {\n\n  const popupRef = React.useRef(null);\n  const popupContainerRef = React.useRef(null);\n\n  function handleOverlayClose(event) {\n\n    if (popupRef.current && !popupContainerRef.current.contains(event.target)) {\n      props.onClose();\n    }\n  }\n\n  return (\n    <div ref={popupRef} onSubmit={props.onSubmit} onClick={props.isOpen ? handleOverlayClose : undefined} className={`popup ${props.isOpen && 'popup_opened'}`} id={`${props.name}-popup`}>\n      <div ref={popupContainerRef} className=\"popup__container\" id={`${props.name}-form`}>\n        <button onClick={props.onClose} type=\"button\" aria-label=\"Закрыть\" name=\"close-button\" className=\"popup__close-button\"></button>\n        <form className=\"popup__form\" name=\"form-element\" id={`${props.name}-form-element`} noValidate>\n          <h2 className=\"popup__title\">{props.title}</h2>\n          {props.children}\n          <button type=\"submit\" className=\"popup__save-button\">{props.saveButton}</button>\n        </form>\n      </div>\n    </div>\n\n  );\n}\n\nexport default PopupWithForm;","import React from 'react';\n\nfunction ImagePopup(props) {\n\n  const popupRef = React.useRef(null);\n  const popupContainerRef = React.useRef(null);\n\n  function handleOverlayClose(event) {\n\n    if (popupRef.current && !popupContainerRef.current.contains(event.target)) {\n      props.onClose();\n    }\n  }\n\n  return (\n    <div ref={popupRef} onClick={props.isOpen ? handleOverlayClose : undefined} className={`popup ${props.isOpen && 'popup_opened'}`} id=\"image-popup\">\n      <div ref={popupContainerRef} className=\"popup__image-container\" id=\"image-container\">\n        <button onClick={props.onClose} type=\"button\" aria-label=\"Закрыть\" name=\"imageclose-button\" id=\"imageclose-button\" className=\"popup__close-button\"></button>\n        <figure className=\"popup__figure\">\n          <img className=\"popup__image\" alt=\"Картинка\" src={`${props.card.link}`} />\n          <figcaption className=\"popup__image-caption\">{props.card.name}</figcaption>\n        </figure>\n      </div>\n    </div>\n  );\n}\n\nexport default ImagePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\n\nfunction EditProfilePopup(props) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const [name, setName] = React.useState(' ');\n  const [description, setDescription] = React.useState(' ');\n\n  React.useEffect(() => {\n    setName(String(currentUser.name));\n    setDescription(String(currentUser.about));\n  }, [currentUser]);\n\n  function handleChangeName(e) {\n    setName(e.target.value);\n  }\n\n  function handleChangeDescription(e) {\n    setDescription(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateUser({\n      name,\n      about: description,\n    });\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} name=\"edit\" title=\"Редактировать профиль\" saveButton=\"Cохранить\" children={\n      <>\n        <input onChange={handleChangeName} value={name} type=\"text\" minLength=\"2\" maxLength=\"40\" required name=\"input-name\" placeholder=\"Имя и Фамилия\" id=\"input-name\" className=\"popup__input\" />\n        <span id=\"input-name-error\" className=\"popup__input-error\"></span>\n        <input onChange={handleChangeDescription} value={description} type=\"text\" minLength=\"2\" maxLength=\"200\" required name=\"input-specialty\" placeholder=\"Род деятельности\" id=\"input-specialty\" className=\"popup__input\" />\n        <span id=\"input-specialty-error\" className=\"popup__input-error\"></span>\n      </>}\n    />\n  );\n}\n\nexport default EditProfilePopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\n\nfunction EditAvatarPopup(props) {\n\n  const avatarRef = React.useRef();\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    })\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} name=\"avatar\" title=\"Обновить аватар\" saveButton=\"Cохранить\" children={\n      <>\n        <input ref={avatarRef} type=\"url\" name=\"input-avatar\" required id=\"input-avatar\" placeholder=\"Ссылка на аватар\" className=\"popup__input\" />\n        <span id=\"input-avatar-error\" className=\"popup__input-error\"></span>\n      </>\n    } />\n  );\n}\n\nexport default EditAvatarPopup;","import React from 'react';\nimport PopupWithForm from './PopupWithForm.js';\n\nfunction AddPlacePopup(props) {\n  const [place, setPlace] = React.useState('');\n  const [link, setLink] = React.useState('');\n\n  function handleChangePlace(e) {\n    setPlace(e.target.value);\n  }\n\n  function handleChangeLink(e) {\n    setLink(e.target.value);\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n\n    props.onAddPlace({\n      name: place,\n      link,\n    });\n    setLink('');\n    setPlace('');\n  }\n\n  return (\n    <PopupWithForm onSubmit={handleSubmit} onClose={props.onClose} isOpen={props.isOpen} name=\"add\" title=\"Новое место\" saveButton=\"Cоздать\" children={\n      <>\n        <input onChange={handleChangePlace} value={place} type=\"text\" name=\"input-place\" minLength=\"1\" maxLength=\"30\" required id=\"input-place\" placeholder=\"Название\" className=\"popup__input\" />\n        <span id=\"input-place-error\" className=\"popup__input-error\"></span>\n        <input onChange={handleChangeLink} value={link} type=\"url\" name=\"input-link\" required id=\"input-link\" placeholder=\"Ссылка на картинку\" className=\"popup__input\" />\n        <span id=\"input-link-error\" className=\"popup__input-error\"></span>\n      </>\n    } />\n  );\n}\n\nexport default AddPlacePopup;","import React from 'react';\n\nfunction Login(props) {\n  const [inputEmail, setInputEmail] = React.useState('');\n  const [inputPassword, setInputPassword] = React.useState('');\n\n  function handleChangeEmail(e) {\n    setInputEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setInputPassword(e.target.value)\n  }\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    props.handleLogin(inputEmail, inputPassword)\n    setInputEmail('');\n    setInputPassword('');\n  }\n\n  return (\n    <div className=\" popup__container popup__container_place_enter\">\n      <form className=\"popup__form popup__form_place_enter\" onSubmit={handleSubmit} name=\"form-element\">\n        <h2 className=\"popup__title popup__title_place_enter\">Вход</h2>\n        <input name=\"email\" type=\"email\" placeholder=\"Email\" value={inputEmail} onChange={handleChangeEmail} className=\"popup_input popup__input_place_enter\" />\n        <input name=\"password\" type=\"password\" placeholder=\"Пароль\" value={inputPassword} onChange={handleChangePassword} className=\"popup__input_place_enter\" />\n        <button type=\"submit\" className=\"popup__save-button popup__save-button_place_enter\">Войти</button>\n      </form>\n    </div>\n  );\n}\n\nexport default Login;","import React from 'react';\nimport { useHistory } from 'react-router-dom';\n\nfunction Register(props) {\n  const [inputEmail, setInputEmail] = React.useState('');\n  const [inputPassword, setInputPassword] = React.useState('');\n  const history = useHistory();\n\n  function handleChangeEmail(e) {\n    setInputEmail(e.target.value);\n  }\n\n  function handleChangePassword(e) {\n    setInputPassword(e.target.value)\n  }\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    props.handleRegister(inputEmail, inputPassword)\n    setInputEmail('');\n    setInputPassword('');\n  }\n\n  function handleClick(e) {\n    history.push('/sign-in');\n  }\n\n  return (\n    <div className=\"popup__container popup__container_place_enter\">\n      <form className=\"popup__form popup__form_place_enter\" onSubmit={handleSubmit} name=\"form-element\">\n        <h2 className=\"popup__title popup__title_place_enter\">Регистрация</h2>\n        <input name=\"email\" type=\"email\" placeholder=\"Email\" value={inputEmail} onChange={handleChangeEmail} className=\"popup__input popup__input_place_enter\" />\n        <input name=\"password\" type=\"password\" placeholder=\"Пароль\" value={inputPassword} onChange={handleChangePassword} className=\"popup__input popup__input_place_enter\" />\n        <button type=\"submit\" className=\"popup__save-button popup__save-button_place_enter\">Зарегистрироваться</button>\n        <button className=\"popup__login-button\" onClick={handleClick}>Уже зарегистрированы? Войти</button>\n      </form>\n    </div>\n  );\n}\n\nexport default Register;","import React from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\n\nconst ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {() =>\n        props.isLoggedIn ? <Component {...props} /> : <Redirect to=\"/sign-in\" /> \n      }\n    </Route>\n  );\n};\n\nexport default ProtectedRoute; ","export default __webpack_public_path__ + \"static/media/success.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/fail.df8eddf6.svg\";","import React from 'react';\nimport success from '../images/success.svg';\nimport fail from '../images/fail.svg';\n\nfunction InfoTooltip (props) {\n  const popupRef = React.useRef(null);\n  const popupContainerRef = React.useRef(null);\n\n  function handleOverlayClose(event) {\n    if (popupRef.current && !popupContainerRef.current.contains(event.target)) {\n      props.onClose();\n    }\n  }\n\n  return (\n    <div ref={popupRef} onClick={props.isOpen ? handleOverlayClose : undefined} className={`popup ${props.isOpen && 'popup_opened'}`} id=\"info-popup\">\n      <div ref={popupContainerRef} className=\"popup__container\">\n      <button onClick={props.onClose} type=\"button\" aria-label=\"Закрыть\" name=\"imageclose-button\" id=\"imageclose-button\" className=\"popup__close-button\"></button>\n      <figure className=\"popup__info-figure\">\n          <img className=\"popup__info-image\" alt=\"Картинка\" src={`${props.isSuccess ? success : fail}`} />\n          <figcaption className=\"popup__info-message\">{`${props.isSuccess ? \"Вы успешно зарегистрировались!\" : \"Что-то пошло не так! Попробуйте еще раз!\"}`}</figcaption>\n        </figure>\n      </div>\n    </div>\n\n  );\n}\n\nexport default InfoTooltip;","class Api {\n    constructor(options) {\n        this._baseUrl = options.baseUrl;\n        this._headers = options.headers;\n    }\n\n    \n    getInitialCards() {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'GET',\n            headers: this._headers,\n        })\n            .then((res) => {\n                return this._getResponseData(res);\n            })\n    }\n\n    getUser() {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'GET',\n            headers: this._headers,\n        })\n            .then((res) => {\n                return this._getResponseData(res);\n            })\n    }\n\n    setUser(data) {\n        return fetch(`${this._baseUrl}/users/me`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                about: data.about,\n            })\n        })\n            .then((res) => {\n                return this._getResponseData(res);\n            })\n    }\n\n    setAvatar(data) {\n        return fetch(`${this._baseUrl}/users/me/avatar`, {\n            method: 'PATCH',\n            headers: this._headers,\n            body: JSON.stringify({\n                avatar: data.avatar,\n            })\n        })\n            .then((res) => {\n                return this._getResponseData(res);\n            })\n    }\n\n    addCard(data) {\n        return fetch(`${this._baseUrl}/cards`, {\n            method: 'POST',\n            headers: this._headers,\n            body: JSON.stringify({\n                name: data.name,\n                link: data.link\n            })\n        })\n\n            .then((res) => {\n                return this._getResponseData(res);\n            })\n    }\n\n    deleteCard(_id) {\n        return fetch(`${this._baseUrl}/cards/${_id}`, {\n            method: 'DELETE',\n            headers: this._headers,\n        })\n            .then((res) => {\n                return this._getResponseData(res);\n            })\n\n    }\n\n    changeLikeCardStatus(_id, isLiked) {\n        if (isLiked) {\n            return fetch(`${this._baseUrl}/cards/${_id}/likes`, {\n            method: 'PUT',\n            headers: this._headers,\n        })\n            .then((res) => {\n                return this._getResponseData(res);\n            })\n\n        }\n        else {\n            return fetch(`${this._baseUrl}/cards/${_id}/likes`, {\n                method: 'DELETE',\n                headers: this._headers,\n            })\n                .then((res) => {\n                    return this._getResponseData(res);\n                })\n        }\n    }\n\n    _getResponseData(res) {\n        if (res.ok) {\n            return res.json();\n        }\n        return Promise.reject(new Error(`Ошибка: ${res.status}`));\n    }\n}\n\nconst api = new Api({\n    baseUrl: 'https://ap.mesto.olboris.students.nomoredomains.club',\n    headers: {\n        Authorization: `Bearer ${localStorage.getItem('token')}`,\n        'Content-Type': 'application/json'\n    }\n});\n\n\nexport default api;","class Auth {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  register(email, password) {\n    return fetch(`${this._baseUrl}/signup`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        \"email\": email,\n        \"password\": password,\n      })\n  })\n    .then((res) => {\n      return this.getResponseData(res);\n  })\n  }\n\n  authorize(email, password) {\n    return fetch(`${this._baseUrl}/signin`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        \"email\": email,\n        \"password\": password,\n      })\n    })\n    .then((res) => {\n      return res;\n    })\n    .then((data) => {\n      console.log(data);\n      localStorage.setItem('token', data.token);\n      return this.getResponseData(data);\n    })\n  }\n  \n  getContent(token) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${token}`,\n      }\n    })\n    .then(res => res.json())\n    .then(data => data)\n  }\n\n  getResponseData(res) {\n    if (res.ok) {\n        return res.json();\n    }\n   return Promise.reject(new Error(`Ошибка: ${res.status}`));\n}\n}\n\nconst auth = new Auth({\n  baseUrl: 'https://ap.mesto.olboris.students.nomoredomains.club',\n  headers: {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json',\n  }\n});\n\nexport default auth;","import React from 'react';\nimport '../index.css';\nimport Header from './Header.js';\nimport Main from './Main.js';\nimport Footer from './Footer.js';\nimport PopupWithForm from './PopupWithForm.js';\nimport ImagePopup from './ImagePopup.js';\nimport EditProfilePopup from './EditProfilePopup.js';\nimport EditAvatarPopup from './EditAvatarPopup.js';\nimport AddPlacePopup from './AddPlacePopup.js';\nimport Login from './Login.js';\nimport Register from './Register.js';\nimport ProtectedRoute from './ProtectedRoute.js';\nimport InfoTooltip from './InfoTooltip.js';\nimport Api from '../utils/api';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext.js';\nimport { Redirect, Route, Switch, useHistory } from 'react-router-dom';\nimport auth from '../utils/auth';\n\nfunction App(props) {\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\n  const [isInfoPopupOpen, setIsInfoPopupOpen] = React.useState(false);\n  const [selectedCard, setSelectedCard] = React.useState({});\n  const [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\n  const [isAuthSuccess, setIsAuthSuccess] = React.useState(false);\n  const [currentUser, setCurrentUser] = React.useState(' ');\n  const [cards, setCards] = React.useState([]);\n  const [loggedIn, setLoggedIn] = React.useState(false);\n  const [userEmail, setUserEmail] = React.useState('');\n  const history = useHistory();\n\n  const tokenCheck = React.useCallback(() => {\n    const token = localStorage.getItem('token');\n    if (token) {\n      auth.getContent(token)\n        .then((res) => {\n          if (res) {\n            setLoggedIn(true);\n            setUserEmail(res.email);\n            history.push(\"/\");\n          }\n        })\n        .catch((err) => {\n          console.log(err);\n        })\n    }\n  }, [history]);\n\n  React.useEffect(() => {\n    tokenCheck();\n  }, [tokenCheck])\n\n  function onLogin(mail, password) {\n    auth.authorize(mail, password)\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem('token', res.token);\n          tokenCheck();\n          history.push(\"/\")\n        }\n      })\n      .catch((err) => {\n        console.log(err);\n        infoToolFail();\n      })\n  }\n\n  function onRegister(email, password) {\n    auth.register(email, password)\n      .then(() => {\n        history.push('/sign-in');\n        infoToolSuccess(); \n      })\n      .catch((err) => {\n        console.log(err);\n        infoToolFail();\n      })\n  }\n\n  function handleEditAvatarClick() {\n    setIsEditAvatarPopupOpen(true);\n  }\n\n  function handleEditProfileClick() {\n    setIsEditProfilePopupOpen(true);\n  }\n\n  function handleAddPlaceClick() {\n    setIsAddPlacePopupOpen(true);\n  }\n\n  function openInfoPopup() {\n    setIsInfoPopupOpen(true);\n  }\n\n  function infoToolFail() {\n    setIsAuthSuccess(false);\n    setIsInfoPopupOpen(true);\n  }\n\n  function infoToolSuccess() {\n    setIsAuthSuccess(true);\n    setIsInfoPopupOpen(true);\n  }\n\n  function handleCardClick(card) {\n    setSelectedCard(card);\n    setIsImagePopupOpen(true);\n  }\n\n  function closeAllPopups() {\n    setIsEditAvatarPopupOpen(false);\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsImagePopupOpen(false);\n    setIsInfoPopupOpen(false);\n    setSelectedCard({});\n  };\n\n  React.useEffect(() => {\n    Api.getUser()\n      .then((res) => {\n        setCurrentUser(res);\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }, []);\n\n  React.useEffect(() => {\n    Api.getInitialCards()\n      .then((res) => {\n        setCards(res.data);\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }, []);\n\n  function handleCardLike(card) {\n    const isLiked = card.likes.some(i => i === currentUser._id);\n    Api.changeLikeCardStatus(card._id, !isLiked).then((newCard) => {\n      const newCards = cards.map((c) => c._id === card._id ? newCard : c);\n      setCards(newCards);\n    })\n      .catch((err) => {\n        console.log(err)\n      });\n  }\n\n  function handleCardDelete(card) {\n    Api.deleteCard(card._id)\n      .then(() => {\n        const newCards = cards.filter((c) => c._id !== card._id);\n        setCards(newCards);\n      })\n      .catch((err) => {\n        console.log(err);\n        infoToolFail();\n      });\n  }\n\n  React.useEffect(() => {\n    function handleEscClose(event) {\n      if (event.keyCode === 27) {\n        closeAllPopups();\n      }\n    }\n    document.addEventListener('keydown', handleEscClose)\n    return () => {\n      document.removeEventListener('keydown', handleEscClose)\n    }\n  }, [])\n\n  function handleUpdateUser({ name, about }) {\n    Api.setUser({ name, about })\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleUpdateAvatar({ avatar }) {\n    Api.setAvatar({ avatar })\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  function handleAddPlaceSubmit({ name, link }) {\n    Api.addCard({ name, link })\n      .then((res) => {\n        setCards([res.data, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => {\n        console.log(err)\n      })\n  }\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        <Header userEmail={userEmail} />\n        <Switch >\n          <ProtectedRoute\n            exact path=\"/\"\n            isLoggedIn={loggedIn}\n            component={Main}\n            onEditAvatar={handleEditAvatarClick}\n            onEditProfile={handleEditProfileClick}\n            onAddPlace={handleAddPlaceClick}\n            onCardClick={handleCardClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            onCardDelete={handleCardDelete}\n          />\n          <Route path=\"/sign-in\">\n            <Login handleLogin={onLogin} />\n          </Route>\n          <Route path=\"/sign-up\">\n            <Register handleRegister={onRegister} />\n          </Route>\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </ Switch>\n        <Footer />\n        <ImagePopup isOpen={isImagePopupOpen} onClose={closeAllPopups} card={selectedCard} />\n        <InfoTooltip isOpen={isInfoPopupOpen} onClose={closeAllPopups} isSuccess={isAuthSuccess} />\n      </div>\n      <EditAvatarPopup onUpdateAvatar={handleUpdateAvatar} onClose={closeAllPopups} isOpen={isEditAvatarPopupOpen} />\n      <EditProfilePopup onUpdateUser={handleUpdateUser} isOpen={isEditProfilePopupOpen} onClose={closeAllPopups} />\n      <AddPlacePopup onAddPlace={handleAddPlaceSubmit} onClose={closeAllPopups} isOpen={isAddPlacePopupOpen} />\n      <PopupWithForm onClose={closeAllPopups} name=\"submit\" title=\"Вы уверены?\" saveButton=\"Да\" children={\n        <>\n        </>\n      } />\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n/*import './index.css';*/\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\nimport { BrowserRouter } from 'react-router-dom';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}